(()=>{"use strict";class e{constructor(e,t,o,n){this.title=e,this.notes=t,this.dueDate=o,this.priority=n,this.isCompleted=!1,this.isVisible=!1}}class t{constructor(e,t){this.name=e,this.description=t,this.todos=[]}addTodo(e){this.todos.push(e)}deleteTodo(e){this.todos.splice(e,1)}static save(e){localStorage.setItem("array",JSON.stringify(e))}static getArray(){const e=JSON.parse(localStorage.getItem("array")),o=[];return null!=e?(e.forEach(((e,n)=>{o.push(Object.assign(new t,e))})),o):null}get allTodos(){return this.todos}}let o=[],n=0;function d(){const e=document.querySelector(".projects-list");e.innerHTML="",o.forEach(((t,o)=>{const d=document.createElement("button");d.textContent=t.name,e.appendChild(d),d.addEventListener("click",(()=>{n=o,c(t),s(t,o)}))}))}function c(e){const t=document.querySelector(".main");t.innerHTML="";const o=document.createElement("button"),n=document.createElement("button");n.classList.add("new-project"),o.classList.add("new-todo"),n.textContent="New Project",o.textContent="New Todo";const d=document.createElement("div");d.classList.add("project-div");const c=document.createElement("h2"),s=document.createElement("p");c.textContent=e.name,s.textContent=e.description,d.appendChild(n),d.appendChild(o),d.appendChild(c),d.appendChild(s),t.appendChild(d);const l=document.getElementById("new-todo-dialog"),i=document.getElementById("new-project-dialog");o.addEventListener("click",(()=>{l.showModal()})),n.addEventListener("click",(()=>{i.showModal()}))}function s(e,t){const o=document.querySelector(".main"),n=document.createElement("div");o.appendChild(n),n.classList.add("todos-div"),e.todos.forEach(((e,o)=>{l(e,o,t)}))}function l(e,d,c){const l=document.querySelector(".todos-div"),i=document.createElement("div"),a=document.createElement("p"),r=document.createElement("button"),u=document.createElement("button"),m=document.createElement("p"),p=document.createElement("p");i.appendChild(a),i.appendChild(p),i.appendChild(r),i.appendChild(u),l.appendChild(i),a.textContent=e.title,m.textContent=e.notes,p.textContent=e.dueDate,r.textContent="C",u.textContent="E",i.addEventListener("click",(()=>{console.log(e.isVisible),0==e.isVisible?(a.appendChild(m),e.isVisible=!0):(a.removeChild(m),e.isVisible=!1)})),e.isCompleted&&a.classList.add("cross-out"),r.classList.add("complete"),r.addEventListener("click",(()=>{e.isCompleted?(e.isCompleted=!1,a.classList.remove("cross-out")):(e.isCompleted=!0,a.classList.add("cross-out"),console.log("yippy")),t.save(o),console.log("saved")})),u.classList.add("delete"),u.addEventListener("click",(()=>{o[c].deleteTodo(d),document.querySelector(".todos-div").remove(),s(o[c],n),t.save(o)}))}function i(e,t){const o=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=(new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-o.getTime())/864e5;return Math.floor(n)}function a(e){var t=e.split(/\D/);return new Date(t[0],--t[1],t[2])}!function(){const r=new t("Todo List","Click the new project button to get started!");null!=t.getArray()?(o=t.getArray(),console.log(o),c(o[n]),s(o[n],n),d(),function(){const r=document.getElementById("new-todo-dialog"),u=document.getElementById("new-project-dialog"),m=document.getElementById("project-form"),p=document.getElementById("todo-form"),v=document.querySelector(".todo-submit"),h=document.querySelector(".project-submit");v.addEventListener("click",(d=>{d.preventDefault(),function(){const d=document.getElementById("todo-title").value,l=document.getElementById("notes").value,i=document.getElementById("date").value,a=document.getElementById("priority").value,r=new e(d,l,i,a);o[n].addTodo(r),t.save(o),c(o[n]),s(o[n],n)}(),p.reset(),r.close()})),h.addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("project-title").value,l=document.getElementById("description").value,i=new t(e,l);o.push(i),t.save(o),n=o.length-1,c(o[n]),s(o[n],n),d()}(),m.reset(),u.close()})),document.querySelector(".delete-project-button").addEventListener("click",(()=>{console.log(n),o.splice(n,1),t.save(o),n=0,c(o[n]),s(o[n],n),d()}));const E=document.querySelector(".todays-tasks"),C=document.querySelector(".upcoming-tasks"),y=document.querySelector(".completed-tasks");E.addEventListener("click",(()=>{!function(){document.querySelector(".todos-div").remove(),document.querySelector(".project-div").remove();const e=document.querySelector(".main"),t=document.createElement("div");t.classList.add("project-div");const n=document.createElement("h2"),d=document.createElement("p");n.textContent="Today's Tasks",t.appendChild(n),t.appendChild(d),e.appendChild(t);const c=document.createElement("div");e.appendChild(c),c.classList.add("todos-div"),o.forEach(((e,t)=>{e.todos.forEach(((e,o)=>{0==i(new Date,a(e.dueDate))&&l(e,o,t)}))}))}()})),C.addEventListener("click",(()=>{!function(){document.querySelector(".todos-div").remove(),document.querySelector(".project-div").remove();const e=document.querySelector(".main"),t=document.createElement("div");t.classList.add("project-div");const n=document.createElement("h2"),d=document.createElement("p");n.textContent="Upcoming Tasks",t.appendChild(n),t.appendChild(d),e.appendChild(t);const c=document.createElement("div");e.appendChild(c),c.classList.add("todos-div"),o.forEach(((e,t)=>{e.todos.forEach(((e,o)=>{i(new Date,a(e.dueDate))>0&&l(e,o,t)}))}))}()})),y.addEventListener("click",(()=>{!function(){document.querySelector(".todos-div").remove(),document.querySelector(".project-div").remove();const e=document.querySelector(".main"),t=document.createElement("div");t.classList.add("project-div");const n=document.createElement("h2"),d=document.createElement("p");n.textContent="Completed Tasks",t.appendChild(n),t.appendChild(d),e.appendChild(t);const c=document.createElement("div");e.appendChild(c),c.classList.add("todos-div"),o.forEach(((e,t)=>{e.todos.forEach(((e,o)=>{i(new Date,a(e.dueDate))<0&&l(e,o,t)}))}))}()}))}()):(c(r),s(r),d())}()})();